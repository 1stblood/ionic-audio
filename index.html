<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ionic-audio by arielfaur</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ionic-audio</h1>
        <p>An audio player for Ionic based on the Cordova Media Plugin</p>

        <p class="view"><a href="https://github.com/arielfaur/ionic-audio">View the Project on GitHub <small>arielfaur/ionic-audio</small></a></p>

        <ul>
          <li><a href="https://github.com/arielfaur/ionic-audio/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/arielfaur/ionic-audio/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/arielfaur/ionic-audio">View On <strong>GitHub</strong></a></li>
        </ul>
        <br />
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
              <input type="hidden" name="cmd" value="_s-xclick">
              <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
">
              <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG_global.gif" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online.">
              <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
          </form>

          <p>
              If you've found this project useful please consider donating to support further development. Thank you!
        </p>
      </header>
      <section>

<a id="ionic-audio" class="anchor" href="#ionic-audio" aria-hidden="true"><span class="octicon octicon-link"></span></a>

<p>This module creates an audio player UI for Ionic. It creates an interface to the cordova-media plugin including a service that controls Media playback and directives to define the look and feel of the player.</p>
<h2><a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul class="features">
    <li>Easily customized</li>
    <li>Keeps multiple tracks in sync</li>
    <li>Displays track information</li>
    <li>Displays loading spinners</li>
    <li>Shows and updates track progress</li>
    <li>Progress bars can be global (playlist style) or embedded within each track</li>

<li>Tested on iOS 8.4+ and Android 4.1+ (better UI performance with Crosswalk plugin)</li>
</ul>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo</h2>

<p>You need a real device to test audio playback but these demos can be used to tweak the UI. You can also run the example
projects locally with <code>ionic serve</code> if you prefer.</p>

<ul>
<li>
    <p data-height="503" data-theme-id="17808" data-slug-hash="rVVQKy" data-default-tab="result" data-user="arielfaur" class='codepen'>See the Pen <a href='http://codepen.io/arielfaur/pen/rVVQKy/'>ionic-audio sample 2</a> by Ariel F (<a href='http://codepen.io/arielfaur'>@arielfaur</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
</li>
<li>
    <p data-height="453" data-theme-id="17808" data-slug-hash="JddevO" data-default-tab="result" data-user="arielfaur" class='codepen'>See the Pen <a href='http://codepen.io/arielfaur/pen/JddevO/'>ionic-audio sample 1</a> by Ariel F (<a href='http://codepen.io/arielfaur'>@arielfaur</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
    <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
</li>
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="install-dependencies" class="anchor" href="#install-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install dependencies</h3>

<p><a href="https://github.com/apache/cordova-plugin-media">Cordova media plugin</a></p>

<p><code>ionic plugin add cordova-plugin-media</code></p>

<h3>
<a id="install-this-module-using-bower" class="anchor" href="#install-this-module-using-bower" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install this module using bower</h3>

<p><code>bower install ionic-audio</code></p>

<p>There's a sample Ionic project in the folder <code>example-audio</code>. The project contains not platforms, so you must add
one and make a build if you want to test it on your device.
Keep in mind that the module depends on a Cordova plugin so the module won't run locally with <code>ionic serve</code>.
However, you can still run the project locally to tune the UI before deploying to the device.</p>

<h3>
<a id="include-js-file" class="anchor" href="#include-js-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Include JS file</h3>

<p><code>&lt;script src="dist/ion-audio.js"&gt;&lt;/script&gt;</code></p>

<h3>
<a id="inject-the-dependency-in-your-apps-module" class="anchor" href="#inject-the-dependency-in-your-apps-module" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inject the dependency in your app's module</h3>

<p><code>angular.module('starter', ['ionic', 'starter.controllers', 'starter.services', 'ionic-audio'])</code></p>

<h3>
<a id="define-your-player-ui-using-directives-as-in-the-follow-example" class="anchor" href="#define-your-player-ui-using-directives-as-in-the-follow-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Define your player UI using directives as in the follow example</h3>

<pre><code>&lt;ion-view view-title="Music"&gt;
  &lt;ion-content&gt;
      &lt;ion-audio-track track="track"&gt;
          &lt;div class="list list-inset"&gt;
              &lt;div class="item item-thumbnail-left"&gt;
                  &lt;img src="{{track.art}}"&gt;
                  &lt;h2&gt;{{track.title}}&lt;/h2&gt;
                  &lt;p&gt;{{track.artist}}&lt;/p&gt;
                  &lt;ion-audio-controls&gt;
                        &lt;a class="button button-icon icon" ion-audio-play&gt;&lt;/a&gt;
                        &lt;ion-spinner icon="ios"&gt;&lt;/ion-spinner&gt;
                    &lt;/ion-audio-controls&gt;
              &lt;/div&gt;
              &lt;div class="item"&gt;
                &lt;ion-audio-progress-bar display-time&gt;&lt;/ion-audio-progress-bar&gt;
              &lt;/div&gt;
          &lt;/div&gt;
      &lt;/ion-audio-track&gt;
  &lt;/ion-content&gt;
&lt;/ion-view&gt;
</code></pre>

<h2>
<a id="directives" class="anchor" href="#directives" aria-hidden="true"><span class="octicon octicon-link"></span></a>Directives</h2>

<h3>
<a id="ion-audio-track" class="anchor" href="#ion-audio-track" aria-hidden="true"><span class="octicon octicon-link"></span></a>ion-audio-track</h3>

<p>Creates an audio track from a JSON object passed as parameter using the <code>track</code> attribute. The player UI is defined inside the body of
 <code>ion-audio-track</code>. Supports multiple instances per view, each one being completely
independent.</p>

<pre><code>&lt;ion-audio-track track="myTrack"&gt;
...
&lt;/ion-audio-track&gt;
</code></pre>

<p>Then in your controller:</p>

<pre><code>$scope.myTrack = {
    url: 'https://www.example.com/my_song.mp3',
    artist: 'Somebody',
    title: 'Song name',
    art: 'img/album_art.jpg'
}
</code></pre>

<h4>NEW in version 1.3.0:</h4>
<p>
You can now dynamically assign a track to the <code>ion-audio-track</code> directive. There is also a new scope property <code>toggle-playback</code> that can be used to control playback if needed. The module will simply listen to changes in the <code>toggle-playback</code> property and toggle playback regardless of the property value.
</p>
<pre><code>&lt;button class="button button-assertive" ng-click="playTrack(0)"&gt;Play first track&lt;/button&gt;
&lt;ion-audio-track track="dynamicTrack" toggle-playback="togglePlayback"&gt;
      &lt;div class="card"&gt;
          &lt;div class="item"&gt;
              &lt;h2&gt;{{dynamicTrack.title}}&lt;/h2&gt;

              &lt;p&gt;{{dynamicTrack.artist}}&lt;/p&gt;
              &lt;ion-audio-controls&gt;
                  &lt;a class="button button-icon icon" ion-audio-play&gt;&lt;/a&gt;
                  &lt;ion-spinner icon="ios" style="position: relative; top: 8px; left: 4px"&gt;&lt;/ion-spinner&gt;
              &lt;/ion-audio-controls&gt;
          &lt;/div&gt;
          &lt;div class="item item-divider"&gt;
              &lt;ion-audio-progress-bar track="dynamicTrack" display-time&gt;&lt;/ion-audio-progress-bar&gt;
          &lt;/div&gt;
      &lt;/div&gt;
&lt;/ion-audio-track&gt;</code></pre>


<pre><code>
.controller('MusicCtrl', ['$scope', 'MediaManager', function($scope, MediaManager) {
    
    $scope.dynamicTrack = {};   // we use this scope variable to dynamically assign a track

    $scope.tracks = [
        {
            url: 'http://myserver.com/audio/Track1.mp3',  // audio file from the cloud
            artist: 'The Police',
            title: 'Roxane'
        },
        {
            url: '/android_asset/www/audio/Track2.mp3', // audio file stored in device's app folder
            artist: 'Genesis',
            title: 'Tonight. Tonight. Tonight'
        }
    ];

    $scope.stopPlayback = function() {
        MediaManager.stop();  // will stop any audio currently playing
    };

    $scope.playTrack = function(index) {
        $scope.dynamicTrack = $scope.tracks[index];   // assign one track

        $scope.togglePlayback = !$scope.togglePlayback; // start playback when track changes    
    };
}]);
</code></pre>



<h3>
<a id="ion-audio-controls" class="anchor" href="#ion-audio-controls" aria-hidden="true"><span class="octicon octicon-link"></span></a>ion-audio-controls</h3>

<p>Container for <code>ion-audio-play</code> and <code>ion-spinner</code> directives. The spinner is automatically hidden/shown when needed.</p>

<h3>
<a id="ion-audio-play" class="anchor" href="#ion-audio-play" aria-hidden="true"><span class="octicon octicon-link"></span></a>ion-audio-play</h3>

<p>Displays play/pause/loading status. Simply apply this attribute to an <code>a</code> or <code>button</code> element. It updates the UI accordingly and shows a spinner
while the track is loading.
Additionally, the attributes <code>text-play</code> and <code>text-pause</code> may be used to include a label for each status.</p>

<p><code>&lt;a class="button button-icon icon" ion-audio-play&gt;&lt;/a&gt;</code></p>

<p><code>&lt;button class="button icon-left" ion-audio-play text-play="Play" text-pause="Pause"&gt;&lt;/button&gt;</code></p>

<h3>
<a id="ion-audio-progress-bar" class="anchor" href="#ion-audio-progress-bar" aria-hidden="true"><span class="octicon octicon-link"></span></a>ion-audio-progress-bar</h3>

<p>Shows a progress bar using Ionic's range control. It also displays the track duration and progress update if
the <code>display-time</code> attribute is present.</p>

<p><code>&lt;ion-audio-progress-bar display-time&gt;&lt;/ion-audio-progress-bar&gt;</code></p>

<p>Sample use case: tracks listed with an embedded progress bar.</p>

<p><img src="https://github.com/arielfaur/ionic-audio/raw/master/screenshots/Screenshot_progress_bar.png" alt=""></p>

<h4>
<a id="use-as-a-global-progress-bar" class="anchor" href="#use-as-a-global-progress-bar" aria-hidden="true"><span class="octicon octicon-link"></span></a>Use as a global progress bar</h4>

<p>If a <code>ion-audio-progress-bar</code> is placed outside the scope of <code>ion-audio-track</code>, it will automatically behave as a standalone bar keeping in sync with the track list. Add a <code>display-info</code> attribute to show the current playing track.</p>

<p><code>&lt;ion-audio-progress-bar display-time display-info&gt;&lt;/ion-audio-progress-bar&gt;</code></p>

<p>Sample use case: tracks listed with a global progress bar.</p>

<p><img src="https://github.com/arielfaur/ionic-audio/raw/master/screenshots/Screenshot_progress_box.png" alt=""></p>

<h2><a id="directives" class="anchor" href="#api" aria-hidden="true"><span class="octicon octicon-link"></span></a>API</h2>
<h3>
  <a id="MediaManager" class="anchor" href="#MediaManager" aria-hidden="true"><span class="octicon octicon-link"></span></a>MediaManager</h3>

<p>Inject <code>MediaManager</code> in your controller if you need access to the currently playing track. For example, in order to stop
playback before transitioning to another state or performing any other action:</p>

<pre><code>
.controller('MusicCtrl', ['$scope', 'MediaManager', function($scope, MediaManager) {

    // bind stop button in view
    $scope.stopPlayback = function() {
        MediaManager.stop();
    };

    // stop any track before leaving current view
    $scope.$on('$ionicView.beforeLeave', function() {
        MediaManager.stop();
    });

}]);
</code></pre>

<pre><code>
&lt;ion-view view-title="Music"&gt;
    &lt;ion-content&gt;
        &lt;button class="button button-assertive" ng-click="stopPlayback()"&gt;Stop all&lt;/button&gt;
        &lt;ion-audio-track track="track"&gt;
              &lt;div class="list list-inset"&gt;
                  &lt;div class="item item-thumbnail-left"&gt;
                      &lt;img src="{{track.art}}"&gt;
                      &lt;h2&gt;{{track.title}}&lt;/h2&gt;
                      &lt;p&gt;{{track.artist}}&lt;/p&gt;
                      &lt;ion-audio-controls&gt;
                            &lt;a class="button button-icon icon" ion-audio-play&gt;&lt;/a&gt;
                            &lt;ion-spinner icon="ios"&gt;&lt;/ion-spinner&gt;
                        &lt;/ion-audio-controls&gt;
                  &lt;/div&gt;
                  &lt;div class="item"&gt;
                    &lt;ion-audio-progress-bar display-time&gt;&lt;/ion-audio-progress-bar&gt;
                  &lt;/div&gt;
              &lt;/div&gt;
          &lt;/ion-audio-track&gt;
    &lt;/ion-content&gt;
&lt;/ion-view&gt;
</code></pre>

<h2>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul class="features">
<li><del>Test on iOS</del></li>
<li>Implement playlist functionality</li>
<li><del>Implement seek-to functionality using the slider</del></li>
<li><del>Implement customization of progress bar and default player icons - now hardcoded</del></li>
<li>Replace Ionic range control with SVG to show track progress instead (maybe?)</li>
</ul>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/arielfaur">arielfaur</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
